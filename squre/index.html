<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to Guo Moruo Square</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cambria', serif;
        }
        
        html, body {
            height: 100%;
            overflow: hidden;
        }
        
        body {
            color: #e6e6e6;
            min-height: 100vh;
            position: relative;
            /* 全屏背景图片 */
            background: url('images/background.jpg') no-repeat center center fixed;
            background-size: cover;
            /* 背景亮度调整到40 */
            filter: brightness(40%);
            display: flex;
            flex-direction: column;
        }
        
        /* 恢复内容区域的亮度 */
        .container, .header, .footer {
            filter: brightness(100%);
        }
        
        .header {
            height: 25vh;
            min-height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
        }
        
        .header h1 {
            color: #f8f8f8;
            font-size: 3.5vw;
            text-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
            letter-spacing: 2px;
            text-align: center;
            padding: 15px 30px;
            background: rgba(10, 10, 30, 0.6);
            border-radius: 12px;
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 2;
            animation: fadeIn 1.5s ease-out;
            max-width: 90%;
        }
        
        .main-content {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 20px;
            overflow: hidden;
        }
        
        .container {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 20px;
            width: 100%;
            max-width: 1400px;
            height: 100%;
            max-height: 65vh;
        }
        
        .icon-grid {
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 40px;
            padding: 20px 0;
        }
        
        .left-icons {
            align-items: flex-start;
        }
        
        .right-icons {
            align-items: flex-end;
        }
        
        .icon-item {
            text-align: center;
            transition: all 0.4s ease;
        }
        
        .icon-item:hover {
            transform: translateY(-5px);
        }
        
        .icon {
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: linear-gradient(145deg, #2a2a3a, #1e1e2e);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.6);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }
        
        .icon:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.8), 0 0 20px rgba(232, 205, 165, 0.4);
        }
        
        .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 70%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        
        .icon:hover::before {
            opacity: 1;
        }
        
        .icon i {
            font-size: 35px;
            color: #e8cda5;
            transition: all 0.3s ease;
        }
        
        .icon:hover i {
            color: #fff;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.7);
        }
        
        .icon-label {
            color: #c0c0c0;
            font-size: 1rem;
            letter-spacing: 0.5px;
            margin-top: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .cafe-icon {
            background: linear-gradient(145deg, #4d2e1d, #3a2318);
        }
        
        .cap-icon {
            background: linear-gradient(145deg, #1d2e4d, #18233a);
        }
        
        .figure-icon {
            background: linear-gradient(145deg, #3d4d1d, #2e3a18);
        }
        
        .map-icon {
            background: linear-gradient(145deg, #4d1d2e, #3a1823);
        }
        
        .dialogue-box {
            /* 更暗淡的文本框色调 */
            background: linear-gradient(145deg, rgba(30, 30, 46, 0.9), rgba(42, 42, 58, 0.9));
            border-radius: 15px;
            padding: 25px 25px 60px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            height: 100%;
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(5px);
        }
        
        .dialogue-content {
            position: relative;
            z-index: 1;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .dialogue-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #e8cda5;
            text-align: center;
            letter-spacing: 1px;
            text-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
        }
        
        .dialogue-text {
            font-size: 1rem;
            line-height: 1.6;
            text-align: justify;
            color: #d0d0d0;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow: hidden;
        }
        
        .typewriter {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .typewriter-text {
            overflow: hidden;
            border-right: .10em solid #e8cda5;
            white-space: pre-wrap;
            margin: 0 auto;
            letter-spacing: .03em;
            animation: 
                blink-caret .75s step-end infinite;
            max-height: 100%;
            overflow-y: auto;
            padding: 5px 10px;
        }
        
        .quote-mark {
            font-size: 4rem;
            color: rgba(232, 205, 165, 0.15);
            position: absolute;
            font-family: Georgia, serif;
        }
        
        .quote-start {
            top: 10px;
            left: 15px;
        }
        
        .quote-end {
            bottom: 10px;
            right: 15px;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
        }
        
        .page-btn {
            background: linear-gradient(to right, #4d2e1d, #3a2318);
            color: #e8cda5;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .page-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.6);
        }
        
        .page-btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, #5d3e2d, #4a3328);
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: 20px;
        }
        
        .page-btn:hover::before {
            opacity: 1;
        }
        
        .page-indicator {
            display: flex;
            gap: 8px;
            align-items: center;
            justify-content: center;
            margin-top: 8px;
        }
        
        .page-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(232, 205, 165, 0.3);
            transition: all 0.3s ease;
        }
        
        .page-dot.active {
            background: #e8cda5;
            transform: scale(1.2);
        }
        
        .footer {
            text-align: center;
            padding: 15px;
            color: #888;
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(10, 10, 20, 0.7);
            backdrop-filter: blur(5px);
            flex-shrink: 0;
        }
        
        @media (max-width: 1000px) {
            .container {
                grid-template-columns: 1fr;
                grid-template-rows: auto 1fr auto;
                gap: 20px;
                max-height: none;
                overflow-y: auto;
            }
            
            .icon-grid {
                flex-direction: row;
                justify-content: center;
                gap: 30px;
                padding: 10px 0;
            }
            
            .left-icons, .right-icons {
                align-items: center;
            }
            
            .header h1 {
                font-size: 2rem;
                padding: 10px 20px;
            }
            
            .dialogue-box {
                padding: 20px 20px 60px;
            }
            
            body, html {
                overflow: auto;
            }
        }
        
        @media (max-width: 600px) {
            .header {
                height: 20vh;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .icon {
                width: 60px;
                height: 60px;
            }
            
            .icon i {
                font-size: 25px;
            }
            
            .icon-label {
                font-size: 0.8rem;
            }
            
            .dialogue-title {
                font-size: 1.2rem;
            }
            
            .dialogue-text {
                font-size: 0.9rem;
            }
        }
        
        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #e8cda5; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Welcome to Guo Moruo Square</h1>
    </div>
    
    <div class="main-content">
        <div class="container">
            <!-- Left Icons -->
            <div class="icon-grid left-icons">
                <div class="icon-item">
                    <a href="https://amber2713.github.io/cafe-1958/" class="icon cafe-icon">
                        <i class="fas fa-coffee"></i>
                    </a>
                    <div class="icon-label">Cafe & Lounge</div>
                </div>
                
                <div class="icon-item">
                    <a href="https://tiny-faun-182022.netlify.app" class="icon map-icon">
                        <i class="fas fa-map-marked-alt"></i>
                    </a>
                    <div class="icon-label">Campus Map</div>
                </div>
            </div>
            
            <!-- Center Content -->
            <div class="dialogue-box">
                <div class="quote-mark quote-start">"</div>
                <div class="dialogue-content">
                    <h2 class="dialogue-title">Memories of the Square</h2>
                    <div class="dialogue-text">
                        <div class="typewriter">
                            <div id="typewriter-text" class="typewriter-text"></div>
                        </div>
                    </div>
                </div>
                <div class="quote-mark quote-end">"</div>
                
                <div class="pagination">
                    <button id="prevBtn" class="page-btn">
                        <i class="fas fa-arrow-left"></i> Prev
                    </button>
                    
                    <div class="page-indicator">
                        <div class="page-dot active" id="dot1"></div>
                        <div class="page-dot" id="dot2"></div>
                        <div class="page-dot" id="dot3"></div>
                    </div>
                    
                    <button id="nextBtn" class="page-btn">
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
            
            <!-- Right Icons -->
            <div class="icon-grid right-icons">
                <div class="icon-item">
                    <a href="https://amber2713.github.io/sitetone/gifted/" class="icon cap-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </a>
                    <div class="icon-label">Gifted Program</div>
                </div>
                
                <div class="icon-item">
                    <a href="https://amber2713.github.io/sitetone/memorial/" class="icon figure-icon">
                        <i class="fas fa-user-friends"></i>
                    </a>
                    <div class="icon-label">Student Profiles</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="footer">
        Guo Moruo Square © 2023 | A Place of Reflection, Learning, and Community
    </div>

    <script>
        // Text content for each page
        const pages = [
            "I remember Guo Moruo Square as one of the few sanctuaries during my demanding study years. At any hour, you could find students scattered across the grass, textbooks open but eyes gazing upward, finding solace in the open sky above.",
            
            "What made this space extraordinary was the harmony of sounds: the delighted laughter of neighborhood children chasing kites mingled with earnest philosophical debates beneath the ancient oak.",
            
            "The square served as a living metaphor for the university—where youthful energy met academic rigor, and community blended with scholarship. In the golden hour before sunset, everything paused in perfect balance."
        ];
        
        let currentPage = 0;
        let typingInterval;
        const textElement = document.getElementById('typewriter-text');
        const dots = document.querySelectorAll('.page-dot');
        
        // Function to type out text with typing effect
        function typeText(text, element) {
            clearInterval(typingInterval);
            
            let charIndex = 0;
            element.innerHTML = '';
            
            typingInterval = setInterval(() => {
                if (charIndex < text.length) {
                    element.innerHTML += text.charAt(charIndex);
                    charIndex++;
                } else {
                    clearInterval(typingInterval);
                }
            }, 30);
        }
        
        // Function to update page
        function updatePage(pageIndex) {
            currentPage = pageIndex;
            
            // Update active dot
            dots.forEach((dot, index) => {
                if (index === currentPage) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
            
            // Type out the text for the current page
            typeText(pages[currentPage], textElement);
            
            // Update button states
            document.getElementById('prevBtn').disabled = (currentPage === 0);
            document.getElementById('nextBtn').disabled = (currentPage === pages.length - 1);
        }
        
        // Event listeners for pagination
        document.getElementById('prevBtn').addEventListener('click', () => {
            if (currentPage > 0) {
                updatePage(currentPage - 1);
            }
        });
        
        document.getElementById('nextBtn').addEventListener('click', () => {
            if (currentPage < pages.length - 1) {
                updatePage(currentPage + 1);
            }
        });
        
        // Event listeners for dot navigation
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                updatePage(index);
            });
        });
        
        // Initialize with first page
        document.addEventListener('DOMContentLoaded', () => {
            updatePage(0);
            
            // Add interactive effects to icons
            document.querySelectorAll('.icon').forEach(icon => {
                icon.addEventListener('mouseenter', function() {
                    this.style.transform = 'scale(1.1) rotate(3deg)';
                });
                
                icon.addEventListener('mouseleave', function() {
                    this.style.transform = 'scale(1) rotate(0)';
                });
            });
        });
    </script>
</body>
</html>
